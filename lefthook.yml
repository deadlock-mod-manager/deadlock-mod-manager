pre-commit:
  jobs:
    - run: npx @biomejs/biome format --write {staged_files}
      glob:
        - "*.js"
        - "*.jsx"
        - "*.ts"
        - "*.tsx"
        - "*.json"
        - "*.jsonc"
        - "*.css"
      stage_fixed: true
    - run: npx @biomejs/biome check --write {staged_files}
      glob:
        - "*.js"
        - "*.jsx"
        - "*.ts"
        - "*.tsx"
        - "*.json"
        - "*.jsonc"
        - "*.css"
      stage_fixed: true
    - run: cargo clippy --all-targets --all-features --fix --allow-dirty
      glob:
        - "**/*.rs"
        - "**/Cargo.toml"
      root: apps/desktop
      stage_fixed: true
    - run: cargo clippy --all-targets --all-features --fix --allow-dirty
      glob:
        - "**/*.rs"
        - "**/Cargo.toml"
      root: packages/dmodpkg
      stage_fixed: true
    - run: cargo clippy --all-targets --all-features --fix --allow-dirty
      glob:
        - "**/*.rs"
        - "**/Cargo.toml"
      root: packages/vpk-parser
      stage_fixed: true

import { Label } from "@deadlock-mods/ui/components/label";
import {
  Select,
  SelectContent,
  SelectItem,
  SelectTrigger,
  SelectValue,
} from "@deadlock-mods/ui/components/select";
import { Globe } from "@deadlock-mods/ui/icons";
import { useTranslation } from "react-i18next";

const languages = [
  { code: "en", name: "English", flag: "ðŸ‡ºðŸ‡¸" },
  { code: "de", name: "Deutsch", flag: "ðŸ‡©ðŸ‡ª" },
  { code: "fr", name: "FranÃ§ais", flag: "ðŸ‡«ðŸ‡·" },
  { code: "ar", name: "Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©", flag: "ðŸ‡¸ðŸ‡¦" },
  { code: "pl", name: "Polski", flag: "ðŸ‡µðŸ‡±" },
  { code: "gsw", name: "Schweizerdeutsch", flag: "ðŸ‡¨ðŸ‡­" },
  { code: "th", name: "à¹„à¸—à¸¢", flag: "ðŸ‡¹ðŸ‡­" },
  { code: "tr", name: "TÃ¼rkÃ§e", flag: "ðŸ‡¹ðŸ‡·" },
  { code: "ru", name: "Ð ÑƒÑÑÐºÐ¸Ð¹", flag: "ðŸ‡·ðŸ‡º" },
  { code: "zh-CN", name: "ç®€ä½“ä¸­æ–‡", flag: "ðŸ‡¨ðŸ‡³" },
  { code: "zh-TW", name: "ç¹é«”ä¸­æ–‡", flag: "ðŸ‡¹ðŸ‡¼" },
  { code: "es", name: "EspaÃ±ol", flag: "ðŸ‡ªðŸ‡¸" },
  { code: "pt-BR", name: "PortuguÃªs (Brasil)", flag: "ðŸ‡§ðŸ‡·" },
  { code: "it", name: "Italiano", flag: "ðŸ‡®ðŸ‡¹" },
  { code: "ja", name: "æ—¥æœ¬èªž", flag: "ðŸ‡¯ðŸ‡µ" },
  { code: "bg", name: "Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸", flag: "ðŸ‡§ðŸ‡¬" },
];

export const LanguageSettings = () => {
  const { t, i18n } = useTranslation();

  const handleLanguageChange = (languageCode: string) => {
    i18n.changeLanguage(languageCode);
  };

  const currentLanguage =
    languages.find((lang) => lang.code === i18n.language) || languages[0];

  return (
    <div className='space-y-4'>
      <div className='flex items-center justify-between'>
        <div className='space-y-0.5'>
          <Label className='text-base'>{t("settings.language")}</Label>
          <div className='text-muted-foreground text-sm'>
            {t("settings.languageDescription")}
          </div>
        </div>
        <div className='flex items-center gap-2'>
          <Globe className='h-4 w-4 text-muted-foreground' />
          <Select
            onValueChange={handleLanguageChange}
            value={currentLanguage.code}>
            <SelectTrigger className='w-48'>
              <SelectValue>
                <div className='flex items-center gap-2'>
                  <span>{currentLanguage.flag}</span>
                  <span>{currentLanguage.name}</span>
                </div>
              </SelectValue>
            </SelectTrigger>
            <SelectContent>
              {languages.map((language) => (
                <SelectItem key={language.code} value={language.code}>
                  <div className='flex items-center gap-2'>
                    <span>{language.flag}</span>
                    <span>{language.name}</span>
                  </div>
                </SelectItem>
              ))}
            </SelectContent>
          </Select>
        </div>
      </div>
    </div>
  );
};
